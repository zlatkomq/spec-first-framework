---
description: Rules for creating TASKS.md files
globs: specs/**/TASKS.md
alwaysApply: false
---

# Task Creation Rules

You are creating a task breakdown document. Follow these rules strictly.

## Required Inputs

Before creating a TASKS.md, you must have:
- Approved DESIGN.md for this feature (@specs/FEAT-XXX/DESIGN.md)
- Access to @.framework/CONSTITUTION.md for project standards

If DESIGN.md is not approved (Status â‰  APPROVED), STOP and inform the user.

## Template

Always use the template structure from @.framework/templates/TASKS.template.md

## Field Rules

### Metadata
- **Feature ID**: Must match the DESIGN.md Feature ID exactly
- **Feature Name**: Must match the DESIGN.md Feature Name exactly
- Status is always DRAFT until Tech Lead approves
- Author: developer name + "/ AI-assisted" (if name unknown, use "Developer / AI-assisted")
- Date: today's date

### Overview
- 1-2 sentences maximum
- Summarize the implementation approach from DESIGN.md
- Do not repeat DESIGN.md content - just reference it

### Tasks
- Each task must be atomic: implementable in a single AI prompt
- Format: `- [ ] T1: [Brief description] (DESIGN: [section/component])`
- Every task MUST reference the relevant DESIGN.md section or component in parentheses
- Order tasks by implementation sequence (dependencies first)
- One task = one component/function/endpoint, not multiple
- If a task feels too big, split it

### Testing (MANDATORY)
- Unit tests are ALWAYS required - never skip
- Create at least one unit test task per major component/function
- Create integration test tasks for flows that span multiple components
- Format: `- [ ] Tx: Unit tests for [specific component/logic]` (continue numbering from last implementation task)
- Integration tests can be marked "No integration tests required." ONLY if DESIGN.md explicitly states this is a purely isolated component
- Reference CONSTITUTION.md for coverage requirements

### Definition of Done
- Keep the standard checklist from template
- Add feature-specific items if needed (e.g., "Documentation updated")

## Task Sizing Guidelines

| Too Big (split it) | Right Size | Too Small (merge it) |
|-------------------|------------|---------------------|
| "Implement user authentication" | "Create login endpoint" | "Add import statement" |
| "Build entire API" | "Implement password validation" | "Write one unit test" |
| "Create database layer" | "Create User repository" | "Add field to model" |

## Constraints

- Do NOT include implementation details (belongs in code)
- Do NOT duplicate DESIGN.md content
- Do NOT skip testing tasks
- Do NOT create tasks that aren't traceable to DESIGN.md
- Do NOT number tests separately - continue task numbering (T1, T2... T5, T6 for tests)
- All bracket placeholders from template must be removed from output

## Validation

Before completing, verify:
- [ ] Every component in DESIGN.md has corresponding task(s)
- [ ] Every task is atomic (one prompt = one task)
- [ ] Testing tasks are present (unit tests mandatory)
- [ ] Tasks are ordered by dependency
- [ ] Definition of Done is complete
- [ ] Status set to DRAFT

## Output

Save the file to: `specs/FEAT-XXX-{feature-slug}/TASKS.md`

Must be in the same folder as the corresponding SPEC.md and DESIGN.md.
